{"remainingRequest":"/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/src/views/table/bs-table/agency/add_agency.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/src/views/table/bs-table/agency/add_agency.vue","mtime":1674049421000},{"path":"/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/node_modules/css-loader/dist/cjs.js","mtime":1658911432000},{"path":"/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1658911432000},{"path":"/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/node_modules/postcss-loader/src/index.js","mtime":1658911432000},{"path":"/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/node_modules/cache-loader/dist/cjs.js","mtime":1658911406000},{"path":"/Users/apple/Documents/VS Code/wor_on_demand_fonrtend/node_modules/vue-loader/lib/index.js","mtime":1658911432000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZW5sYXJnZWFibGUtaW1hZ2UgLmZ1bGwgIHsKICB6LWluZGV4Ojk5OTkgIWltcG9ydGFudDsKCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpICFpbXBvcnRhbnQ7Cn0KCi53aXphcmQtaWNvbi1jb250YWluZXJ7CgogIGJhY2tncm91bmQtY29sb3I6ICMwMDRhYWQgIWltcG9ydGFudDsKfQoKLnN0ZXBUaXRsZS5hY3RpdmV7CgogIGNvbG9yOiAjMDA0YWFkICFpbXBvcnRhbnQ7Cn0KCi53aXphcmQtYnRuewoKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA0YWFkICFpbXBvcnRhbnQ7Cn0KCg=="},{"version":3,"sources":["add_agency.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqbA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA","file":"add_agency.vue","sourceRoot":"src/views/table/bs-table/agency","sourcesContent":["<template>\n  <div>\n    <form-wizard\n      ref=\"wizard\"\n      color=\"#7367F0\"\n      :title=\"null\"\n      :subtitle=\"null\"\n      layout=\"horizontal\"\n      finish-button-text=\"Submit\"\n      back-button-text=\"Previous\"\n      class=\"wizard-vertical mb-2\"\n      @on-complete=\"formSubmitted\"\n    >\n      <tab-content title=\"Account Details\">\n        <b-row>\n          <b-col\n            cols=\"12\"\n            class=\"mb-2\"\n          >\n            <h5 class=\"mb-0\">\n              Agency Details\n            </h5>\n            <small class=\"text-muted\">\n              Enter Agency Account Details.\n            </small>\n          </b-col>\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"First Name\"\n              label-for=\"v-name\"\n            >\n              <b-form-input\n                id=\"v-name\"\n                v-model=\"formValues.first_name\"\n                placeholder=\"Enter First Name\"\n              />\n            </b-form-group>\n          </b-col>\n\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Last Name\"\n              label-for=\"v-last_name\"\n            >\n              <b-form-input\n                id=\"v-last_name\"\n                v-model=\"formValues.last_name\"\n                placeholder=\"Enter Last Name\"\n              />\n            </b-form-group>\n          </b-col>\n\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Email\"\n              label-for=\"v-email\"\n            >\n              <b-form-input\n                id=\"v-email\"\n                v-model=\"formValues.email\"\n                placeholder=\"Enter Email\"\n              />\n            </b-form-group>\n          </b-col>\n\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Phone Number\"\n              label-for=\"v-phone_number\"\n            >\n              <b-form-input\n                id=\"v-phone_number\"\n                v-model=\"formValues.phone_number\"\n                placeholder=\"Enter Phone Number\"\n              />\n\n            </b-form-group>\n          </b-col>\n\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Password\"\n              label-for=\"v-password\"\n            >\n              <b-form-input\n                id=\"v-password\"\n                v-model=\"formValues.password\"\n                placeholder=\"Enter Password\"\n              />\n            </b-form-group>\n          </b-col>\n\n          <b-col md=\"12\">\n            <b-row>\n              <b-col md=\"6\">\n                <b-form-group\n                  label=\"Profile Photo\"\n                  label-for=\"v-emp_photo\"\n                >\n\n                  <b-form-file\n                    id=\"v-emp_photo\"\n                    v-model=\"formValues.profile_photo\"\n                    accept=\"image/* , .pdf\"\n                    placeholder=\"Choose a file or drop it here...\"\n                    drop-placeholder=\"Drop file here...\"\n                  />\n                </b-form-group>\n              </b-col>\n              <b-col md=\"6\">\n                <enlargeable-image\n                  v-if=\"formValues.ui_emp_photo\"\n                  :src=\"formValues.ui_emp_photo\"\n                  :src_large=\"formValues.ui_emp_photo\"\n                  animation_duration=\"600\"\n                >\n                  <b-img\n                    style=\"max-height: 80px;\"\n                    thumbnail\n                    :src=\"formValues.ui_emp_photo\"\n                  />\n                </enlargeable-image>\n              </b-col>\n            </b-row>\n          </b-col>\n        </b-row>\n      </tab-content>\n\n      <!-- personal info tab -->\n      <tab-content title=\"Company Information\">\n        <b-row>\n          <b-col\n            cols=\"12\"\n            class=\"mb-2\"\n          >\n            <h5 class=\"mb-0\">\n              Company Details\n            </h5>\n            <small class=\"text-muted\">Enter Company Details.</small>\n          </b-col>\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Company Owner Name\"\n              label-for=\"v-owner_name\"\n            >\n              <b-form-input\n                id=\"v-email\"\n                v-model=\"formValues.owner_name\"\n                placeholder=\"Enter Company Owner Name\"\n              />\n            </b-form-group>\n          </b-col>\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Company Name\"\n              label-for=\"v-company_name\"\n            >\n              <b-form-input\n                id=\"v-email\"\n                v-model=\"formValues.company_name\"\n                placeholder=\"Enter Company Name\"\n              />\n            </b-form-group>\n          </b-col>\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Company Registration Numbers\"\n              label-for=\"v-company_registration_number\"\n            >\n              <b-form-input\n                id=\"v-company_registration_number\"\n                v-model=\"formValues.company_registration_number\"\n                placeholder=\"Enter Company Registration Number\"\n              />\n            </b-form-group>\n          </b-col>\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"VAT\"\n              label-for=\"v-vat\"\n            >\n              <b-form-input\n                id=\"v-vat\"\n                v-model=\"formValues.vat\"\n                placeholder=\"Enter VAT\"\n              />\n            </b-form-group>\n          </b-col>\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Position In Company\"\n              label-for=\"v-position_in_company\"\n            >\n              <b-form-input\n                id=\"v-position_in_company\"\n                v-model=\"formValues.position_in_company\"\n                placeholder=\"Enter position_in_company\"\n              />\n            </b-form-group>\n          </b-col>\n        </b-row>\n      </tab-content>\n\n      <!-- address -->\n      <tab-content title=\"Address Details\">\n        <b-row>\n          <b-col\n            cols=\"12\"\n            class=\"mb-2\"\n          >\n            <h5 class=\"mb-0\">\n              Address Details\n            </h5>\n            <small class=\"text-muted\" />\n          </b-col>\n\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Building Name\"\n              label-for=\"v-building_name\"\n            >\n              <b-form-input\n                id=\"v-building_name\"\n                v-model=\"formValues.building_name\"\n                placeholder=\"Enter Building Name\"\n              />\n            </b-form-group>\n          </b-col>\n          <b-col md=\"6\">\n            <b-form-group\n              label=\"Company Address\"\n              label-for=\"v-company_address\"\n            >\n              <b-form-input\n                id=\"v-company_address\"\n                v-model=\"formValues.company_address\"\n                placeholder=\"Enter Company Address\"\n              />\n            </b-form-group>\n          </b-col>\n        </b-row>\n      </tab-content>\n    </form-wizard>\n\n  </div>\n</template>\n\n<script>\nimport { FormWizard, TabContent } from 'vue-form-wizard'\nimport vSelect from 'vue-select'\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\nimport EnlargeableImage from '@diracleo/vue-enlargeable-image'\n\nimport Cleave from 'vue-cleave-component'\nimport 'cleave.js/dist/addons/cleave-phone.us'\n\nimport {\n  BRow,\n  BCol,\n  BFormGroup,\n  BFormInput,\n  BFormDatepicker,\n  BFormFile,\n  BFormTextarea,\n  BFormCheckbox,\n  BFormRadio,\n  BFormCheckboxGroup,\n  BImg,\n  BFormRating,\n  BInputGroup,\n  BInputGroupPrepend,\n  BInputGroupAppend,\n} from 'bootstrap-vue'\nimport axios from '@axios'\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\nexport default {\n  components: {\n    FormWizard,\n    TabContent,\n    BRow,\n    BCol,\n    BFormGroup,\n    BFormInput,\n    BFormDatepicker,\n    BFormFile,\n    BFormTextarea,\n    BFormCheckbox,\n    BFormRadio,\n    vSelect,\n    BFormCheckboxGroup,\n    BImg,\n    EnlargeableImage,\n    BFormRating,\n    BInputGroup,\n    BInputGroupPrepend,\n    BInputGroupAppend,\n    // eslint-disable-next-line vue/no-unused-components\n    ToastificationContent,\n    Cleave,\n  },\n  data() {\n    return {\n      options: {\n        phone: {\n          prefix: '9665',\n          blocks: [12],\n          uppercase: true,\n          noImmediatePrefix: true,\n        },\n        date: {\n          date: true,\n          delimiter: '-',\n          datePattern: ['Y', 'm', 'd'],\n        },\n      },\n      isSubmitting: false,\n      formValues: {\n\n        first_name: '',\n        last_name: '',\n        profile_photo: '',\n        phone_number: '',\n        email: '',\n        password: '',\n        company_name: null,\n        company_registration_number: '',\n        vat: '',\n        owner_name: '',\n        position_in_company: '',\n        building_name: '',\n        company_address: '',\n\n      },\n    }\n  },\n\n  created() {\n  },\n\n  mounted() {\n    const { wizard } = this.$refs\n    wizard.activateAll()\n  },\n  methods: {\n\n    dobContext(ctx) {\n      this.formValues.dob = ctx.selectedYMD\n    },\n\n    addLoading() {\n      const accordionItems = [...document.getElementsByClassName('wizard-btn')]\n\n      accordionItems.forEach(accordionItem => {\n        accordionItem.classList.add('disabled')\n        accordionItem.setAttribute('disabled', 'disabled')\n        accordionItem.innerHTML = '<span>Please Wait</span>'\n      })\n    },\n    removeLoading() {\n      const accordionItems = [...document.getElementsByClassName('wizard-btn')]\n\n      accordionItems.forEach(accordionItem => {\n        accordionItem.classList.remove('disabled')\n        accordionItem.removeAttribute('disabled')\n        accordionItem.innerHTML = '<span>Submit</span>'\n      })\n    },\n    formSubmitted() {\n      this.addLoading()\n\n      const formData = new FormData()\n\n      Object.entries(this.formValues).forEach(([key, value]) => {\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n          console.log(key, value)\n          if (value instanceof File) {\n            formData.append(key, value)\n          } else {\n            formData.append(key, JSON.stringify(value))\n          }\n        } else if (value !== null) {\n          formData.append(key, value)\n        }\n      })\n      axios.post('/agency/create_agency',\n        this.formValues).then(response => {\n        console.log(response)\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            this.$router.replace('/agencies')\n              .then(() => {\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Employee Created',\n                    icon: 'EditIcon',\n                    variant: 'success',\n                  },\n                })\n              })\n          } else {\n            this.removeLoading()\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: response.data.message,\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n              },\n            })\n          }\n        } else {\n          this.removeLoading()\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"css\" >\n\n.enlargeable-image .full  {\n  z-index:9999 !important;\n\n  background-color: rgba(0,0,0,0.5) !important;\n}\n\n.wizard-icon-container{\n\n  background-color: #004aad !important;\n}\n\n.stepTitle.active{\n\n  color: #004aad !important;\n}\n\n.wizard-btn{\n\n  background-color: #004aad !important;\n}\n\n</style>\n"]}]}